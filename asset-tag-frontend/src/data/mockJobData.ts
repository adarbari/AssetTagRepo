import type { Job, JobAlert } from '../types/job';

/**
 * Mock Job Data
 * Comprehensive dataset showing various job scenarios and states
 */

export const mockJobs: Record<string, Job> = {
  'job-1': {
    id: 'job-1',
    jobNumber: 'JOB-2025-001',
    name: 'Downtown Plaza Construction',
    description:
      'Commercial construction project for new plaza development. Includes excavation, foundation work, and initial structural steel installation.',
    siteId: 'site-1',
    siteName: 'Downtown Construction Site',
    clientId: 'client-1',
    clientName: 'Metro Development Corp',
    status: 'active',
    priority: 'high',
    startDate: '2025-10-01T08:00:00Z',
    endDate: '2025-12-15T17:00:00Z',
    estimatedDuration: 600,
    actualDuration: 320,
    vehicle: {
      vehicleId: 'vehicle-1',
      vehicleName: 'Truck #105',
      driverId: 'driver-1',
      driverName: 'Mike Johnson',
      departureTime: '2025-10-04T06:30:00Z',
      isAtGroundStation: false,
    },
    assets: [
      {
        assetId: 'asset-1',
        assetName: 'Excavator CAT 320',
        assetType: 'heavy-equipment',
        required: true,
        loadedOnVehicle: true,
        loadedAt: '2025-10-04T06:15:00Z',
        cost: 8500,
        assignmentStartDate: '2025-10-01T08:00:00Z',
        assignmentEndDate: '2025-12-15T17:00:00Z',
        useFullJobDuration: true,
      },
      {
        assetId: 'asset-2',
        assetName: 'Generator 45kW',
        assetType: 'power-equipment',
        required: true,
        loadedOnVehicle: true,
        loadedAt: '2025-10-04T06:20:00Z',
        cost: 2200,
        assignmentStartDate: '2025-10-01T08:00:00Z',
        assignmentEndDate: '2025-11-15T17:00:00Z',
        useFullJobDuration: false,
      },
      {
        assetId: 'asset-5',
        assetName: 'Concrete Mixer',
        assetType: 'equipment',
        required: true,
        loadedOnVehicle: true,
        loadedAt: '2025-10-04T06:25:00Z',
        cost: 1800,
        assignmentStartDate: '2025-10-15T08:00:00Z',
        assignmentEndDate: '2025-11-30T17:00:00Z',
        useFullJobDuration: false,
      },
      {
        assetId: 'asset-12',
        assetName: 'Safety Barriers (Set)',
        assetType: 'safety-equipment',
        required: false,
        loadedOnVehicle: true,
        loadedAt: '2025-10-04T06:28:00Z',
        cost: 450,
        assignmentStartDate: '2025-10-01T08:00:00Z',
        assignmentEndDate: '2025-12-15T17:00:00Z',
        useFullJobDuration: true,
      },
    ],
    budget: {
      total: 285000,
      labor: 120000,
      equipment: 95000,
      materials: 60000,
      other: 10000,
    },
    actualCosts: {
      total: 156780,
      labor: 68400,
      equipment: 52380,
      materials: 32000,
      other: 4000,
      lastUpdated: '2025-10-04T12:00:00Z',
    },
    variance: 128220,
    variancePercentage: 44.99,
    groundStationGeofenceId: 'geofence-yard-1',
    groundStationName: 'Main Equipment Yard',
    groundStationLocation: {
      lat: 40.7128,
      lng: -74.006,
      address: '1234 Industrial Blvd, New York, NY 10001',
    },
    hasActiveAlerts: false,
    projectManager: 'pm-003',
    assignedTeam: ['tm-001', 'tm-002', 'tm-003'],
    createdAt: '2025-09-15T10:00:00Z',
    updatedAt: '2025-10-04T12:00:00Z',
    createdBy: 'user-admin',
    notes:
      'Client requested daily progress photos. Foundation inspection scheduled for 10/20.',
    tags: ['construction', 'high-priority', 'commercial'],
  },

  'job-2': {
    id: 'job-2',
    jobNumber: 'JOB-2025-002',
    name: 'Highway Repair - Route 45',
    description:
      'Emergency pothole repair and resurfacing of 2.5 mile stretch on Route 45 between Mile Markers 18-20.5',
    siteId: 'site-2',
    siteName: 'Route 45 Work Zone',
    clientId: 'client-2',
    clientName: 'State Highway Department',
    status: 'active',
    priority: 'critical',
    startDate: '2025-10-02T05:00:00Z',
    endDate: '2025-10-10T20:00:00Z',
    estimatedDuration: 192,
    actualDuration: 56,
    vehicle: {
      vehicleId: 'vehicle-2',
      vehicleName: 'Flatbed #203',
      driverId: 'driver-2',
      driverName: 'Carlos Rodriguez',
      departureTime: '2025-10-03T04:45:00Z',
      isAtGroundStation: false,
    },
    assets: [
      {
        assetId: 'asset-6',
        assetName: 'Asphalt Paver',
        assetType: 'heavy-equipment',
        required: true,
        loadedOnVehicle: true,
        loadedAt: '2025-10-03T04:30:00Z',
        cost: 6200,
      },
      {
        assetId: 'asset-7',
        assetName: 'Roller Compactor',
        assetType: 'heavy-equipment',
        required: true,
        loadedOnVehicle: false,
        cost: 4100,
      },
      {
        assetId: 'asset-8',
        assetName: 'Traffic Control Signs',
        assetType: 'safety-equipment',
        required: true,
        loadedOnVehicle: true,
        loadedAt: '2025-10-03T04:35:00Z',
        cost: 850,
      },
    ],
    budget: {
      total: 125000,
      labor: 45000,
      equipment: 38000,
      materials: 40000,
      other: 2000,
    },
    actualCosts: {
      total: 42300,
      labor: 16200,
      equipment: 13800,
      materials: 11500,
      other: 800,
      lastUpdated: '2025-10-04T08:00:00Z',
    },
    variance: 82700,
    variancePercentage: 66.16,
    groundStationGeofenceId: 'geofence-yard-2',
    groundStationName: 'Highway Maintenance Depot',
    hasActiveAlerts: true,
    missingAssets: ['asset-7'],
    projectManager: 'pm-001',
    assignedTeam: ['tm-004', 'tm-005'],
    createdAt: '2025-09-28T08:00:00Z',
    updatedAt: '2025-10-04T08:00:00Z',
    createdBy: 'user-admin',
    notes: 'Weather permitting. Night work authorized for lanes closure.',
    tags: ['emergency', 'highway', 'state-contract'],
  },

  'job-3': {
    id: 'job-3',
    jobNumber: 'JOB-2025-003',
    name: 'Warehouse Floor Renovation',
    description:
      'Complete floor resurfacing of 50,000 sq ft warehouse space including crack repair and epoxy coating.',
    siteId: 'site-3',
    siteName: 'Riverside Warehouse District',
    clientId: 'client-3',
    clientName: 'LogiCorp Warehousing',
    status: 'planning',
    priority: 'medium',
    startDate: '2025-10-15T07:00:00Z',
    endDate: '2025-11-05T18:00:00Z',
    estimatedDuration: 480,
    assets: [
      {
        assetId: 'asset-9',
        assetName: 'Floor Grinder Industrial',
        assetType: 'equipment',
        required: true,
        loadedOnVehicle: false,
      },
      {
        assetId: 'asset-10',
        assetName: 'Concrete Saw',
        assetType: 'equipment',
        required: true,
        loadedOnVehicle: false,
      },
      {
        assetId: 'asset-11',
        assetName: 'Vacuum System HEPA',
        assetType: 'equipment',
        required: false,
        loadedOnVehicle: false,
      },
    ],
    budget: {
      total: 185000,
      labor: 75000,
      equipment: 45000,
      materials: 58000,
      other: 7000,
    },
    actualCosts: {
      total: 0,
      labor: 0,
      equipment: 0,
      materials: 0,
      other: 0,
      lastUpdated: '2025-10-04T00:00:00Z',
    },
    variance: 185000,
    variancePercentage: 100,
    hasActiveAlerts: false,
    projectManager: 'pm-002',
    assignedTeam: ['tm-006', 'tm-007', 'tm-008'],
    createdAt: '2025-09-20T14:00:00Z',
    updatedAt: '2025-10-01T09:00:00Z',
    createdBy: 'user-admin',
    notes:
      'Client requires work during off-hours only (6 PM - 6 AM). Material delivery scheduled for 10/12.',
    tags: ['renovation', 'warehouse', 'night-shift'],
  },

  'job-4': {
    id: 'job-4',
    jobNumber: 'JOB-2025-004',
    name: 'Municipal Park Landscaping',
    description:
      'Landscape installation for new community park including irrigation system, pathways, and plantings.',
    siteId: 'site-4',
    siteName: 'Oakwood Community Park',
    clientId: 'client-4',
    clientName: 'City Parks & Recreation',
    status: 'completed',
    priority: 'low',
    startDate: '2025-08-15T07:00:00Z',
    endDate: '2025-09-30T17:00:00Z',
    estimatedDuration: 320,
    actualDuration: 340,
    assets: [
      {
        assetId: 'asset-13',
        assetName: 'Skid Steer Loader',
        assetType: 'heavy-equipment',
        required: true,
        loadedOnVehicle: true,
        loadedAt: '2025-08-15T06:30:00Z',
        cost: 5400,
      },
      {
        assetId: 'asset-14',
        assetName: 'Trencher',
        assetType: 'equipment',
        required: true,
        loadedOnVehicle: true,
        loadedAt: '2025-08-15T06:35:00Z',
        cost: 2800,
      },
    ],
    budget: {
      total: 95000,
      labor: 38000,
      equipment: 22000,
      materials: 32000,
      other: 3000,
    },
    actualCosts: {
      total: 102450,
      labor: 42300,
      equipment: 23200,
      materials: 33950,
      other: 3000,
      lastUpdated: '2025-09-30T17:00:00Z',
    },
    variance: -7450,
    variancePercentage: -7.84,
    hasActiveAlerts: false,
    projectManager: 'pm-004',
    assignedTeam: ['tm-009', 'tm-010'],
    createdAt: '2025-08-01T10:00:00Z',
    updatedAt: '2025-09-30T17:00:00Z',
    createdBy: 'user-admin',
    completedAt: '2025-09-30T17:00:00Z',
    notes:
      'Project completed. Final inspection passed. Over budget due to additional irrigation zones requested by client mid-project.',
    tags: ['landscaping', 'municipal', 'completed'],
  },

  'job-5': {
    id: 'job-5',
    jobNumber: 'JOB-2025-005',
    name: 'Office Building HVAC Upgrade',
    description:
      'Replacement of 15-year-old HVAC system across 3 floors of commercial office building.',
    siteId: 'site-5',
    siteName: 'Midtown Office Complex',
    clientId: 'client-5',
    clientName: 'Premier Property Management',
    status: 'on-hold',
    priority: 'medium',
    startDate: '2025-09-20T07:00:00Z',
    endDate: '2025-10-25T18:00:00Z',
    estimatedDuration: 280,
    actualDuration: 96,
    assets: [
      {
        assetId: 'asset-15',
        assetName: 'Scissor Lift 26ft',
        assetType: 'access-equipment',
        required: true,
        loadedOnVehicle: false,
      },
      {
        assetId: 'asset-16',
        assetName: 'Refrigerant Recovery Unit',
        assetType: 'equipment',
        required: true,
        loadedOnVehicle: false,
      },
    ],
    budget: {
      total: 220000,
      labor: 85000,
      equipment: 95000,
      materials: 35000,
      other: 5000,
    },
    actualCosts: {
      total: 78200,
      labor: 32500,
      equipment: 38700,
      materials: 6000,
      other: 1000,
      lastUpdated: '2025-09-28T17:00:00Z',
    },
    variance: 141800,
    variancePercentage: 64.45,
    hasActiveAlerts: false,
    projectManager: 'pm-005',
    assignedTeam: ['tm-002', 'tm-005'],
    createdAt: '2025-09-05T11:00:00Z',
    updatedAt: '2025-09-28T17:00:00Z',
    createdBy: 'user-admin',
    notes:
      'ON HOLD: Client delayed due to permit issues. Expected to resume week of 10/21.',
    tags: ['hvac', 'commercial', 'on-hold'],
  },

  'job-6': {
    id: 'job-6',
    jobNumber: 'JOB-2025-006',
    name: 'Shopping Center Parking Lot Repaving',
    description:
      'Complete tear-out and repaving of 120-space parking lot including new striping and lighting upgrades.',
    siteId: 'site-6',
    siteName: 'Westfield Shopping Center',
    clientId: 'client-6',
    clientName: 'Retail Properties LLC',
    status: 'active',
    priority: 'high',
    startDate: '2025-09-25T06:00:00Z',
    endDate: '2025-10-18T18:00:00Z',
    estimatedDuration: 440,
    actualDuration: 168,
    vehicle: {
      vehicleId: 'vehicle-3',
      vehicleName: 'Dump Truck #307',
      driverId: 'driver-3',
      driverName: 'James Patterson',
      departureTime: '2025-10-04T05:30:00Z',
      isAtGroundStation: false,
    },
    assets: [
      {
        assetId: 'asset-17',
        assetName: 'Asphalt Milling Machine',
        assetType: 'heavy-equipment',
        required: true,
        loadedOnVehicle: true,
        loadedAt: '2025-10-04T05:15:00Z',
        cost: 12500,
      },
      {
        assetId: 'asset-18',
        assetName: 'Striping Machine',
        assetType: 'equipment',
        required: false,
        loadedOnVehicle: false,
        cost: 1200,
      },
      {
        assetId: 'asset-19',
        assetName: 'Dump Truck Attachment',
        assetType: 'equipment',
        required: true,
        loadedOnVehicle: true,
        loadedAt: '2025-10-04T05:20:00Z',
        cost: 800,
      },
    ],
    budget: {
      total: 345000,
      labor: 125000,
      equipment: 98000,
      materials: 115000,
      other: 7000,
    },
    actualCosts: {
      total: 168900,
      labor: 62400,
      equipment: 48200,
      materials: 54300,
      other: 4000,
      lastUpdated: '2025-10-04T10:00:00Z',
    },
    variance: 176100,
    variancePercentage: 51.04,
    groundStationGeofenceId: 'geofence-yard-1',
    groundStationName: 'Main Equipment Yard',
    hasActiveAlerts: false,
    projectManager: 'pm-001',
    assignedTeam: ['tm-001', 'tm-003', 'tm-007'],
    createdAt: '2025-09-10T09:00:00Z',
    updatedAt: '2025-10-04T10:00:00Z',
    createdBy: 'user-admin',
    notes:
      'Work restricted to overnight hours 10 PM - 6 AM to minimize customer disruption.',
    tags: ['paving', 'retail', 'night-work'],
  },

  'job-7': {
    id: 'job-7',
    jobNumber: 'JOB-2025-007',
    name: 'Bridge Inspection & Repair',
    description:
      'Annual safety inspection and minor concrete repair work on County Road 12 bridge over Clearwater River.',
    siteId: 'site-7',
    siteName: 'CR-12 Bridge Site',
    clientId: 'client-7',
    clientName: 'County Engineering Department',
    status: 'planning',
    priority: 'high',
    startDate: '2025-10-20T07:00:00Z',
    endDate: '2025-11-15T17:00:00Z',
    estimatedDuration: 200,
    assets: [
      {
        assetId: 'asset-20',
        assetName: 'Boom Lift 60ft',
        assetType: 'access-equipment',
        required: true,
        loadedOnVehicle: false,
      },
      {
        assetId: 'asset-21',
        assetName: 'Ultrasonic Flaw Detector',
        assetType: 'inspection-equipment',
        required: true,
        loadedOnVehicle: false,
      },
      {
        assetId: 'asset-22',
        assetName: 'Concrete Repair Kit',
        assetType: 'equipment',
        required: true,
        loadedOnVehicle: false,
      },
    ],
    budget: {
      total: 75000,
      labor: 32000,
      equipment: 28000,
      materials: 12000,
      other: 3000,
    },
    actualCosts: {
      total: 0,
      labor: 0,
      equipment: 0,
      materials: 0,
      other: 0,
      lastUpdated: '2025-10-04T00:00:00Z',
    },
    variance: 75000,
    variancePercentage: 100,
    hasActiveAlerts: false,
    projectManager: 'pm-002',
    assignedTeam: ['tm-004', 'tm-006'],
    createdAt: '2025-09-22T13:00:00Z',
    updatedAt: '2025-10-02T10:00:00Z',
    createdBy: 'user-admin',
    notes:
      'Requires certified bridge inspector on site. Lane closure permits obtained for 10/20-10/22.',
    tags: ['inspection', 'bridge', 'infrastructure'],
  },

  'job-8': {
    id: 'job-8',
    jobNumber: 'JOB-2025-008',
    name: 'Emergency Storm Cleanup',
    description:
      'Debris removal and emergency tree trimming following severe storm damage across industrial park.',
    siteId: 'site-8',
    siteName: 'Tech Valley Industrial Park',
    clientId: 'client-8',
    clientName: 'Industrial Park Association',
    status: 'completed',
    priority: 'critical',
    startDate: '2025-09-18T06:00:00Z',
    endDate: '2025-09-22T20:00:00Z',
    estimatedDuration: 96,
    actualDuration: 102,
    assets: [
      {
        assetId: 'asset-23',
        assetName: 'Wood Chipper',
        assetType: 'equipment',
        required: true,
        loadedOnVehicle: true,
        loadedAt: '2025-09-18T05:45:00Z',
        cost: 3200,
      },
      {
        assetId: 'asset-24',
        assetName: 'Chainsaw Set (3)',
        assetType: 'tools',
        required: true,
        loadedOnVehicle: true,
        loadedAt: '2025-09-18T05:50:00Z',
        cost: 450,
      },
      {
        assetId: 'asset-25',
        assetName: 'Skid Steer with Grapple',
        assetType: 'heavy-equipment',
        required: true,
        loadedOnVehicle: true,
        loadedAt: '2025-09-18T05:55:00Z',
        cost: 4800,
      },
    ],
    budget: {
      total: 45000,
      labor: 18000,
      equipment: 15000,
      materials: 8000,
      other: 4000,
    },
    actualCosts: {
      total: 48230,
      labor: 19850,
      equipment: 15680,
      materials: 8700,
      other: 4000,
      lastUpdated: '2025-09-22T20:00:00Z',
    },
    variance: -3230,
    variancePercentage: -7.18,
    hasActiveAlerts: false,
    projectManager: 'pm-003',
    assignedTeam: ['tm-008', 'tm-009', 'tm-010'],
    createdAt: '2025-09-17T20:00:00Z',
    updatedAt: '2025-09-22T20:00:00Z',
    createdBy: 'user-admin',
    completedAt: '2025-09-22T20:00:00Z',
    notes:
      'Emergency response. Completed within 4 days. Minor budget overrun approved by client.',
    tags: ['emergency', 'storm-cleanup', 'completed'],
  },
};

export const mockJobAlerts: JobAlert[] = [
  {
    id: 'job-alert-1',
    jobId: 'job-2',
    jobName: 'Highway Repair - Route 45',
    type: 'missing-assets',
    severity: 'high',
    message:
      'Vehicle departed for Highway Repair - Route 45 without 1 required asset(s)',
    details: {
      vehicleId: 'vehicle-2',
      vehicleName: 'Flatbed #203',
      missingAssets: ['Roller Compactor'],
    },
    createdAt: '2025-10-03T04:50:00Z',
    active: true,
  },
  {
    id: 'job-alert-2',
    jobId: 'job-4',
    jobName: 'Municipal Park Landscaping',
    type: 'budget-exceeded',
    severity: 'medium',
    message: 'Job exceeded budget by $7,450',
    details: {
      budgetVariance: -7450,
    },
    createdAt: '2025-09-28T14:30:00Z',
    resolvedAt: '2025-09-30T17:00:00Z',
    active: false,
  },
  {
    id: 'job-alert-3',
    jobId: 'job-8',
    jobName: 'Emergency Storm Cleanup',
    type: 'budget-exceeded',
    severity: 'low',
    message: 'Job exceeded budget by $3,230',
    details: {
      budgetVariance: -3230,
    },
    createdAt: '2025-09-21T16:00:00Z',
    resolvedAt: '2025-09-22T20:00:00Z',
    active: false,
  },
];

// Helper function to get jobs by status
export function getJobsByStatus(status: string): Job[] {
  return Object.values(mockJobs).filter(job => job.status === status);
}

// Helper function to get jobs with active alerts
export function getJobsWithAlerts(): Job[] {
  return Object.values(mockJobs).filter(job => job.hasActiveAlerts);
}

// Helper function to get job statistics
export function getJobStatistics() {
  const jobs = Object.values(mockJobs);
  const totalBudget = jobs.reduce((sum, job) => sum + job.budget.total, 0);
  const totalActualCosts = jobs.reduce(
    (sum, job) => sum + job.actualCosts.total,
    0
  );

  return {
    total: jobs.length,
    active: jobs.filter(j => j.status === 'active').length,
    planning: jobs.filter(j => j.status === 'planning').length,
    completed: jobs.filter(j => j.status === 'completed').length,
    onHold: jobs.filter(j => j.status === 'on-hold').length,
    cancelled: jobs.filter(j => j.status === 'cancelled').length,
    totalBudget,
    totalActualCosts,
    totalVariance: totalBudget - totalActualCosts,
    activeAlerts: mockJobAlerts.filter(a => a.active).length,
    avgBudgetUtilization: (totalActualCosts / totalBudget) * 100,
  };
}
